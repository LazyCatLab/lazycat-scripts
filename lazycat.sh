#!/bin/bash

# æ ‡é¢˜éƒ¨åˆ†
show_header() {
  RESET="\033[0m"
  BOLD="\033[1m"
  BLUE="\033[34m"

  echo -e "${BLUE}${BOLD}"
  echo "â–ˆâ–ˆâ•—      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—"
  echo "â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â•šâ•â•â–ˆâ–ˆâ–ˆâ•”â•â•šâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â•šâ•â•â–ˆâ–ˆâ•”â•â•â•"
  echo "â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘  â–ˆâ–ˆâ–ˆâ•”â•  â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•”â• â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   "
  echo "â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ–ˆâ•”â•    â•šâ–ˆâ–ˆâ•”â•  â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   "
  echo "â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•‘   â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   "
  echo "â•šâ•â•â•â•â•â•â•â•šâ•â•  â•šâ•â•â•šâ•â•â•â•â•â•â•   â•šâ•â•    â•šâ•â•â•â•â•â•â•šâ•â•  â•šâ•â•   â•šâ•â•   ğŸ¾ğŸ¾"
  echo
  echo "         æ‡’çŒ«å®éªŒå®¤ Â· ä¸€é”®éƒ¨ç½²è„šæœ¬ v1.0"
  echo "         æ”¯æŒç³»ç»Ÿï¼šDebian / Ubuntu"
  echo -e "${RESET}"
}

# ä¸»èœå•å±•ç¤º
show_menu() {
  echo "------------------------"
  echo "1. ç³»ç»Ÿä¿¡æ¯æŸ¥è¯¢"
  echo "2. ç³»ç»Ÿæ›´æ–°"
  echo "3. ç³»ç»Ÿæ¸…ç†"
  echo "4. æµ‹è¯•è„šæœ¬åˆé›†"
  echo "5. X-UI å®‰è£…"
  echo "------------------------"
  echo "0. é€€å‡ºè„šæœ¬"
  echo "------------------------"
}

# æµ‹è¯•è„šæœ¬åˆé›†å­èœå•
test_script_menu() {
  echo "æµ‹è¯•è„šæœ¬åˆé›†"
  echo "------------------------"
  echo "1. ChatGPT è§£é”çŠ¶æ€æ£€æµ‹"
  echo "2. æµåª’ä½“è§£é”æµ‹è¯•ï¼ˆRegionï¼‰"
  echo "3. ä¸‰ç½‘å›ç¨‹æµ‹è¯•ï¼ˆbesttraceï¼‰"
  echo "4. ç½‘ç»œè´¨é‡ä½“æ£€è„šæœ¬ï¼ˆNetQualityï¼‰"
  echo "5. æ€§èƒ½æµ‹è¯•ï¼ˆyabsï¼‰"
  echo "0. è¿”å›ä¸»èœå•"
  echo "------------------------"
  echo -n "è¯·è¾“å…¥ä½ çš„é€‰æ‹©: "
  read sub_choice
  case "$sub_choice" in
    1) echo "ğŸ§ª ChatGPT è§£é”çŠ¶æ€æ£€æµ‹ä¸­...ï¼ˆæœªå®ç°ï¼‰" ;;
    2) echo "ğŸ§ª Region æµåª’ä½“è§£é”æµ‹è¯•ä¸­...ï¼ˆæœªå®ç°ï¼‰" ;;
    3) echo "ğŸ§ª besttrace ä¸‰ç½‘å›ç¨‹æµ‹è¯•ä¸­...ï¼ˆæœªå®ç°ï¼‰" ;;
    4) echo "ğŸ§ª ç½‘ç»œè´¨é‡ä½“æ£€ä¸­ï¼ˆNetQualityï¼‰...ï¼ˆæœªå®ç°ï¼‰" ;;
    5) echo "ğŸ§ª yabs æ€§èƒ½æµ‹è¯•ä¸­...ï¼ˆæœªå®ç°ï¼‰" ;;
    0) return ;;
    *) echo "âŒ æ— æ•ˆè¾“å…¥ï¼Œè¯·è¾“å…¥ 0-5 ä¹‹é—´çš„æ•°å­—" ;;
  esac
}

# åŠŸèƒ½é€‰æ‹©
handle_selection() {
  case "$1" in
    1)
      echo "ğŸ‘‰ æ­£åœ¨æ”¶é›†ç³»ç»Ÿä¿¡æ¯..."
      uname -a
      lsb_release -a 2>/dev/null || cat /etc/os-release
      ;;
    2)
      echo "ğŸ”„ æ­£åœ¨æ›´æ–°ç³»ç»Ÿ..."
      apt update && apt upgrade -y
      ;;
    3)
      echo "ğŸ§¹ æ­£åœ¨æ¸…ç†ç³»ç»Ÿ..."
      apt autoremove -y && apt autoclean -y
      ;;
    4)
      test_script_menu
      ;;
    5)
      echo "âš™ï¸ æ­£åœ¨å®‰è£… X-UI..."
      bash <(curl -Ls https://raw.githubusercontent.com/vaxilu/x-ui/master/install.sh)
      ;;
    0)
      echo "ğŸ‘‹ å·²é€€å‡ºæ‡’çŒ«è„šæœ¬"
      exit 0
      ;;
    *)
      echo "âŒ æ— æ•ˆè¾“å…¥ï¼Œè¯·è¾“å…¥ 0-5 ä¹‹é—´çš„æ•°å­—"
      ;;
  esac
}

# ä¸»æµç¨‹
main() {
  clear
  show_header
  while true; do
    show_menu
    echo -n "è¯·è¾“å…¥ä½ çš„é€‰æ‹©: "
    read choice
    handle_selection "$choice"
    echo
  done
}

main
